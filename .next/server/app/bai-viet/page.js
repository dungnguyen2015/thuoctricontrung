(()=>{var e={};e.id=1060,e.ids=[1060],e.modules={62849:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=62849,e.exports=t},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},98216:e=>{"use strict";e.exports=require("net")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},95346:e=>{"use strict";e.exports=require("timers")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},43204:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c}),r(80180),r(61559),r(73833),r(35866);var s=r(23191),i=r(88716),a=r(37922),n=r.n(a),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["bai-viet",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80180)),"D:\\VPS-Dung\\thuoctricontrung\\app\\bai-viet\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61559)),"D:\\VPS-Dung\\thuoctricontrung\\app\\bai-viet\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,73833)),"D:\\VPS-Dung\\thuoctricontrung\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\VPS-Dung\\thuoctricontrung\\app\\bai-viet\\page.tsx"],d="/bai-viet/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/bai-viet/page",pathname:"/bai-viet",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6e4:(e,t,r)=>{Promise.resolve().then(r.bind(r,86428)),Promise.resolve().then(r.bind(r,52697)),Promise.resolve().then(r.t.bind(r,79404,23))},91920:(e,t,r)=>{Promise.resolve().then(r.bind(r,22776)),Promise.resolve().then(r.t.bind(r,79404,23))},86428:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),i=r(90434),a=r(55291);let n=({posts:e,currentPage:t})=>e.length?(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"Danh S\xe1ch B\xe0i Viết"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[s.jsx(a.Z,{src:e.image_url??null,alt:`H\xecnh ảnh b\xe0i viết: ${e.title}`,width:500,height:300,style:{width:"100%",height:"auto",objectFit:"cover"},className:"rounded-xl shadow-lg"}),(0,s.jsxs)("div",{className:"p-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-red-700",children:s.jsx(i.default,{href:`/${e.slug}/`,title:e.title,children:e.title})}),s.jsx("p",{className:"mt-3 text-gray-600",children:e.excerpt}),s.jsx("div",{className:"mt-4 text-sm text-gray-500",children:(0,s.jsxs)("span",{children:["Ng\xe0y đăng: ",new Date(e.created_at).toLocaleDateString()]})})]})]},e.id))})]}):s.jsx("p",{className:"text-center text-gray-500 py-10",children:"Kh\xf4ng c\xf3 b\xe0i viết n\xe0o."})},55291:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(10326),i=r(46226);function a({src:e,alt:t,width:r,height:a,priority:n,className:o,style:l,blurDataURL:c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+yHgAFWAJc08sE7wAAAABJRU5ErkJggg==",...u}){return s.jsx(i.default,{src:e,alt:t,width:r??500,height:a??300,placeholder:"blur",blurDataURL:c,className:o,style:l,loading:"lazy",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 800px",...u})}},52697:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(10326);r(17577);let i=({posts:e})=>{let t={"@context":"https://schema.org","@type":"CollectionPage",name:"Tin tức - Thuốc Trị C\xf4n Tr\xf9ng",description:"Danh s\xe1ch c\xe1c b\xe0i viết chia sẻ dịch vụ về thuốc diệt, trị c\xf4n tr\xf9ng như kiến, ruồi, bọ ch\xe9t, muỗi, gi\xe1n, chuột, ve ch\xf3,...",mainEntity:e.map(e=>({"@type":"BlogPosting",headline:e.title,author:{"@type":"Organization",name:"Thuốc Trị C\xf4n Tr\xf9ng"},datePublished:e.created_at,image:e.image_url,url:e.slug}))};return s.jsx(s.Fragment,{children:s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})})}},61559:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(19510),i=r(58360),a=r(66138);function n({children:e}){return(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.Z,{}),s.jsx("main",{children:e}),s.jsx(a.Z,{})]})}},80180:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,dynamicParams:()=>h,generateStaticParams:()=>p,metadata:()=>g,revalidate:()=>d});var s=r(19510),i=r(68570);let a=(0,i.createProxy)(String.raw`D:\VPS-Dung\thuoctricontrung\app\bai-viet\PostList.tsx#default`);var n=r(57371);let o=({currentPage:e,totalPages:t})=>(0,s.jsxs)("div",{className:"mb-6 flex justify-center space-x-4",children:[e>1&&s.jsx(n.default,{href:`/bai-viet?page=${e-1}`,className:"m-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Trước"}),e<t&&s.jsx(n.default,{href:`/bai-viet?page=${e+1}`,className:"m-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Sau"})]});function l({posts:e,currentPage:t,totalPages:r}){return(0,s.jsxs)("div",{children:[s.jsx(a,{posts:e,currentPage:t}),s.jsx(o,{currentPage:t,totalPages:r})]})}var c=r(21124);let u=(0,i.createProxy)(String.raw`D:\VPS-Dung\thuoctricontrung\components\PostListingPage.tsx#default`),d=3600,h=!1;async function p(){return Array.from({length:Math.ceil(await (0,c.TI)()/9)},(e,t)=>({page:(t+1).toString()}))}let g={title:"B\xe0i viết",description:"Dịch vụ điện lạnh uy t\xedn tại TPHCM"};async function x({searchParams:e}){let t=e?.page,r=Math.max(1,parseInt(Array.isArray(t)?t[0]:t||"1",10))||1;if(isNaN(r))throw Error("Số trang kh\xf4ng hợp lệ");let[i,a]=await Promise.all([(0,c.Vk)(r,9),(0,c.TI)()]);return(0,s.jsxs)(s.Fragment,{children:[s.jsx(l,{posts:i??[],currentPage:r,totalPages:Math.ceil(a/9)}),s.jsx(u,{posts:i??[]})]})}},46643:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var s=r(9487);let i=new Map,a=async(e,t,r,a=3e5)=>{if(i.has(e))return i.get(e);let n=await (0,s.I)(t,r);return i.set(e,n),n}},9487:(e,t,r)=>{"use strict";r.d(t,{I:()=>i,db:()=>s});let s=r(69518).createPool({host:process.env.DB_HOST||"localhost",user:process.env.DB_USER||"root",password:process.env.DB_PASS||"",database:process.env.DB_NAME||"trungdienlanh",waitForConnections:!0,connectionLimit:20,queueLimit:100,enableKeepAlive:!0,keepAliveInitialDelay:3e4});async function i(e,t){{let[r]=await s.execute(e,t);return r}}},21124:(e,t,r)=>{"use strict";r.d(t,{Jq:()=>n,TI:()=>l,Vk:()=>c,eU:()=>o,zQ:()=>a});var s=r(9487),i=r(46643);async function a(e){try{let t=await (0,i.w)(`post_${e}`,"SELECT * FROM posts WHERE slug = ? AND visible = 1",[e],3e4);return t.length>0?t[0]:null}catch(e){return console.error("Lỗi truy vấn b\xe0i viết:",e),null}}async function n(e,t=6){let r=(e-1)*t,i=`SELECT * FROM posts WHERE visible = 1 ORDER BY created_at DESC LIMIT ${t} OFFSET ${r}`;if(isNaN(t)||isNaN(r))throw Error("limit hoặc offset kh\xf4ng hợp lệ");return await (0,s.I)(i)}async function o(){let[e]=await (0,s.I)("SELECT COUNT(*) as count FROM posts WHERE visible = 1");return e[0].count}let l=(0,r(57708).unstable_cache)(async()=>{try{let e=await (0,s.I)(`
        SELECT COUNT(id) as total 
        FROM posts USE INDEX (status_created_at_idx)
        WHERE visible = 1
      `);return e[0]?.total||0}catch(e){return console.error("Failed to fetch article count:",e),0}},["total-posts"],{tags:["posts"],revalidate:3600});async function c(e,t){let r=(e-1)*t,s=`SELECT * FROM posts WHERE visible = 1 ORDER BY created_at DESC LIMIT ${t} OFFSET ${r}`;try{return await (0,i.w)(`posts_list_${e}_${t}`,s)||[]}catch(e){return console.error("Chi tiết lỗi:",{error:e,queryParams:{limit:t,offset:r},types:{limit:typeof t,offset:typeof r}}),[]}}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,5827,1131,6864,7708,1500],()=>r(43204));module.exports=s})();