(()=>{var e={};e.id=6667,e.ids=[6667],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},24810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(13471),s(72885),s(73833),s(35866);var r=s(23191),n=s(88716),a=s(37922),i=s.n(a),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["admin",{children:["posts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13471)),"D:\\VPS-Dung\\thuoctricontrung\\app\\admin\\posts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,72885)),"D:\\VPS-Dung\\thuoctricontrung\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,73833)),"D:\\VPS-Dung\\thuoctricontrung\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\VPS-Dung\\thuoctricontrung\\app\\admin\\posts\\page.tsx"],h="/admin/posts/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/posts/page",pathname:"/admin/posts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},20219:(e,t,s)=>{Promise.resolve().then(s.bind(s,21544))},63694:(e,t,s)=>{Promise.resolve().then(s.bind(s,21240)),Promise.resolve().then(s.bind(s,6427))},11674:(e,t,s)=>{Promise.resolve().then(s.bind(s,56462)),Promise.resolve().then(s.bind(s,41150)),Promise.resolve().then(s.t.bind(s,79404,23))},32426:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},21544:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(10326),n=s(17577),a=s(90434);function i({initialValue:e=1,postId:t}){let[s,a]=(0,n.useState)(e),[i,l]=(0,n.useState)(!1),o=async e=>{let s=Number(e.target.value);a(s),l(!0);try{let e=await fetch("/api/posts/update-visible",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,visible:s})}),r=await e.json();e.ok&&r.success||alert("Cập nhật thất bại!")}catch(e){console.error(e),alert("Lỗi kết nối m\xe1y chủ!")}finally{l(!1)}};return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("select",{value:s,onChange:o,className:`border rounded px-3 py-2 transition-colors duration-200 ${1===s?"bg-green-100 text-green-800 border-green-400":"bg-red-100 text-red-800 border-red-400"}`,disabled:i,children:[r.jsx("option",{value:0,children:"Ẩn"}),r.jsx("option",{value:1,children:"Hiện"}),r.jsx("option",{value:2,children:"Đang chờ"})]}),i&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Đang cập nhật..."})]})}function l(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(1),[o,d]=(0,n.useState)({total:0,limit:20,totalPages:0}),c=async s=>{if(confirm("Bạn c\xf3 chắc muốn x\xf3a b\xe0i viết n\xe0y?"))try{let r=await fetch(`/api/posts/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),n=await r.json();n.success?(alert("X\xf3a th\xe0nh c\xf4ng!"),t(e.filter(e=>e.id!==s))):alert(`Lỗi khi x\xf3a: ${n.message||"Kh\xf4ng r\xf5 lỗi"}`)}catch(e){alert("Xảy ra lỗi khi kết nối đến server.")}};return(0,r.jsxs)("div",{className:"overflow-x-auto",children:[r.jsx(a.default,{href:"/admin/posts/new",className:"bg-blue-600 text-white px-4 py-2 rounded mb-4 inline-block",children:"+ Tạo b\xe0i viết"}),(0,r.jsxs)("table",{className:"w-full table-auto border",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100 text-left",children:[r.jsx("th",{className:"p-2 border",children:"#"}),r.jsx("th",{className:"p-2 border",children:"Ti\xeau đề"}),r.jsx("th",{className:"p-2 border",children:"Ảnh"}),r.jsx("th",{className:"p-2 border",children:"Ẩn/Hiện"}),r.jsx("th",{className:"p-2 border",children:"H\xe0nh động"})]})}),r.jsx("tbody",{children:e.map((e,t)=>(0,r.jsxs)("tr",{className:"border-t",children:[r.jsx("td",{className:"p-2 border",children:t+1}),r.jsx("td",{className:"p-2 border",children:r.jsx(a.default,{href:`/admin/posts/${e.id}`,className:"text-blue-600",children:e.title})}),r.jsx("td",{className:"p-2 border",children:e.image_url&&r.jsx("img",{src:e.image_url,width:"100px",className:"h-16 object-cover"})}),r.jsx("td",{className:"p-2 border",children:r.jsx(i,{initialValue:e.visible,postId:e.id})}),(0,r.jsxs)("td",{className:"p-2 border",children:[r.jsx(a.default,{href:`/admin/posts/${e.id}`,className:"text-blue-600 mr-2",children:"Sửa"}),r.jsx("button",{onClick:()=>c(e.id),className:"text-red-600",children:"X\xf3a"})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"flex gap-2 mt-4 text-right",children:[r.jsx("button",{className:"text-blue-600",onClick:()=>l(e=>Math.max(1,e-1)),disabled:s<=1,children:"Trang trước"}),(0,r.jsxs)("span",{children:["Trang ",s," / ",o.totalPages]}),r.jsx("button",{className:"text-blue-600",onClick:()=>l(e=>Math.min(o.totalPages,e+1)),disabled:s>=o.totalPages,children:"Trang sau"})]})]})}},21240:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var r=s(10326),n=s(35047);function a(){let e=(0,n.useRouter)(),t=async()=>{await fetch("/api/admin/logout"),e.push("/admin/login")};return(0,r.jsxs)("header",{className:"min-w-full bg-white shadow p-4 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Quản trị vi\xean"}),r.jsx("button",{onClick:t,className:"w-1/6 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Đăng xuất"})]})}},6427:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(10326),n=s(90434),a=s(35047);let i=[{href:"/admin/dashboard",label:"Dashboard"},{href:"/admin/users",label:"Người d\xf9ng"},{href:"/admin/posts",label:"B\xe0i viết"},{href:"/admin/images",label:"Ảnh (Images)"},{href:"/admin/products",label:"Sản phẩm"}];function l(){let e=(0,a.usePathname)();return(0,r.jsxs)("aside",{className:"w-1/6 bg-gray-800 text-white min-h-screen p-4",children:[r.jsx("h1",{className:"text-xl font-bold mb-6",children:"Admin Panel"}),r.jsx("nav",{className:"space-y-2",children:i.map(t=>r.jsx(n.default,{href:t.href,className:`block px-4 py-2 rounded hover:bg-gray-700 ${e.startsWith(t.href)?"bg-gray-700":""}`,children:t.label},t.href))})]})}},56462:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(10326),n=s(35047),a=s(17577);function i(){(0,n.usePathname)();let[e,t]=(0,a.useState)([]);return 0===e.length?null:r.jsx("script",{type:"application/ld+json",suppressHydrationWarning:!0,children:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e})})}},41150:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(10326);s(17577);let n=({name:e,description:t,url:s,logo:n,image:a,telephone:i,email:l,address:o,openingHours:d,geo:c})=>{let h={"@context":"https://schema.org","@type":"LocalBusiness",name:e,description:t,url:s,...n&&{logo:n},...a&&{image:a},telephone:i,...l&&{email:l},address:{"@type":"PostalAddress",...o},...d&&{openingHours:d},...c&&{geo:{"@type":"GeoCoordinates",...c}}};return r.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(h)}})}},90434:(e,t,s)=>{"use strict";s.d(t,{default:()=>n.a});var r=s(79404),n=s.n(r)},72885:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(19510),n=s(68570);let a=(0,n.createProxy)(String.raw`D:\VPS-Dung\thuoctricontrung\components\AdminSidebar.tsx#default`),i=(0,n.createProxy)(String.raw`D:\VPS-Dung\thuoctricontrung\components\AdminHeader.tsx#default`);async function l({children:e}){return(0,r.jsxs)("div",{className:"flex min-h-screen",children:[r.jsx(a,{}),(0,r.jsxs)("div",{className:"bg-gray-100 w-5/6",children:[r.jsx(i,{}),r.jsx("main",{className:"p-6",children:e})]})]})}},13471:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(19510);let n=(0,s(68570).createProxy)(String.raw`D:\VPS-Dung\thuoctricontrung\app\admin\components\PostTable.tsx#default`);function a(){return(0,r.jsxs)("main",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Quản l\xfd b\xe0i viết"}),r.jsx(n,{})]})}},73833:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>h});var r=s(19510);s(7633);var n=s(68570);let a=(0,n.createProxy)(String.raw`D:\VPS-Dung\thuoctricontrung\components\LocalBusinessSchema.tsx#default`),i=(0,n.createProxy)(String.raw`D:\VPS-Dung\thuoctricontrung\components\BreadcrumbSchema.tsx#default`);var l=s(95960),o=s(97799),d=s(57371);let c=()=>(0,r.jsxs)("div",{className:"fixed right-4 bottom-4 z-50 flex flex-col gap-3 items-end",children:[r.jsx(d.default,{href:"https://zalo.me/0932383966",target:"_blank",rel:"noopener noreferrer",className:"bg-green-700 hover:bg-blue-600 text-white shadow-lg rounded-full p-4 transition-transform hover:scale-110 animate-bounce-slow",title:"Nhắn Zalo",children:r.jsx(l.Z,{className:"w-6 h-6"})}),(0,r.jsxs)(d.default,{href:"tel:0932383966",className:"flex items-center gap-2 bg-red-700 hover:bg-red-600 text-white shadow-lg rounded-full pl-4 pr-5 py-2 transition-transform hover:scale-105",title:"Gọi điện",children:[r.jsx(o.Z,{className:"w-6 h-6"}),r.jsx("span",{className:"text-base font-semibold",children:"0932.383.966"})]})]}),h={title:"Thuốc Trị C\xf4n Tr\xf9ng",description:"Dịch vụ điện lạnh uy t\xedn tại TPHCM",icons:{icon:"/images/favicon.ico"}};function u({children:e}){return(0,r.jsxs)("html",{lang:"vi",children:[(0,r.jsxs)("head",{children:[r.jsx(a,{name:"Thuốc Trị C\xf4n Tr\xf9ng",description:"Dịch vụ cung cấp c\xe1c sản phẩm thuốc diệt c\xf4n tr\xf9ng chất lượng cao",url:"https://thuoctricontrung.com",logo:"https://thuoctricontrung.com/images/logo.png",image:"https://thuoctricontrung.com/images/banner.webp",telephone:"+84932383966",email:"thuoctricontrung@gmail.com",address:{streetAddress:"64 Quang Trung, Tăng Nhơn Ph\xfa B, Tp Thủ Đức",addressLocality:"Phường Tăng Nhơn Ph\xfa B",addressRegion:"TP. Hồ Ch\xed Minh",postalCode:"700000",addressCountry:"VN"},openingHours:["Mo-Fr 08:00-18:00","Sa 08:00-17:00","Su 08:00-12:00"],geo:{latitude:10.7769,longitude:106.7009}}),r.jsx(i,{})]}),(0,r.jsxs)("body",{className:"bg-white text-black",children:[e,r.jsx(c,{})]})]})}},7633:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,1131],()=>s(24810));module.exports=r})();